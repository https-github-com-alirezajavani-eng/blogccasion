<!doctype html><html><head><meta charset="utf-8"><title>REST Describe &amp; Compile in practice</title><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta property="twitter:account_id" content="1510101733"><meta name="Description" content="The personal blog of Thomas Steiner"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="/blogccasion/2007/06/14/rest-describe-compile-in-practice-150652/"><link rel="alternate" href="/blogccasion/feed/feed.xml" type="application/atom+xml" title="Blogccasion"><link type="text/plain" rel="author" href="https://tomayac.com/humans.txt"><style>#header,#navigation{background-color:#eee;margin:0 0 .5em}#content,#header{width:100%;max-width:100%;border:1px dashed silver}#aside,#content,#footer,#header,#navigation{border:1px dashed silver}#content a,#footer a{padding:.2em;text-decoration:none}#aside a,#content a,#content>h3 a,#footer a,#navigation a{text-decoration:none}#aside a:hover,#aside a:link,#aside a:visited,#content h2,#content h3,#content>h3 a,#footer a,body{color:#000}html{box-sizing:border-box}*,::after,::before{box-sizing:inherit}body{background-color:#fff;font-size:100%;font-family:HelveticaNeue-Light,"Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif}#blog,#ccasion{font-size:1.5em;position:absolute;font-weight:700}#blog{top:0;left:1em;z-index:1;color:gold}#ccasion{top:.05em;left:2.12em;z-index:2;color:#ff8032}#header{font-size:1.2em;max-width:1400px;padding:0;overflow:hidden}#aside h2,#navigation h2{font-size:.9em}#container{display:-webkit-flex;display:flex;margin:0 .5em;max-width:calc(1400px - .5em)}@media (min-width:480px){#container{-webkit-flex-direction:row;flex-direction:row}}@media (max-width:480px){#container{-webkit-flex-direction:column;flex-direction:column}}#navigation-aside{display:-webkit-flex;display:flex}@media (min-width:480px){#navigation-aside{-webkit-flex-direction:column;flex-direction:column}}#navigation{width:120px}#navigation h2{margin:0;background-color:gold}#navigation a{display:block;overflow-x:hidden;padding:0 0 .2em;font-weight:700;color:#000}.category0:hover{background-color:#c0c0ff}.category1:hover{background-color:#ff8032}.category2:hover{background-color:#80ff00}.category3:hover{background-color:#ff0080}.category4:hover{background-color:#ff0}.category5:hover{background-color:#80ff80}.category6:hover{background-color:#ff8080}.category7:hover{background-color:#c0ff80}.category8:hover{background-color:#ffc080}#aside h2,#content h2{background-color:gold;margin:0}#aside a:hover,#footer a:hover{background-color:#80ffff}#aside{width:120px;margin:0 .5em .5em 0;background-color:#eee;overflow-x:hidden}#aside svg{vertical-align:middle}#aside p{margin:.5em}#aside a{display:block;padding:0;font-size:1em;font-weight:400}#content a,#content h2,#content h3,#footer a{font-weight:700}#content{margin:0}#content h2{font-size:1.2em}#content h3{font-size:1.1em;margin:0;background-color:#ff8032}#content p{font-size:1em;margin:.5em 0}#content img{margin:.5em 1em;max-width:100%}#content hr{height:1px;text-align:left;margin-left:0;border:1px solid silver}#content small{font-size:.9em;padding:.5em 0}#content a{display:inline}#content a:link{color:#00f}#content a:visited{color:#00008b}#content a:hover{color:#00f;text-decoration:underline}#footer{max-width:1400px;margin:.5em 0 0;padding:.5em}#footer ul{list-style:none}#footer li::before{content:"¬ª "}.blogPost{padding:.5em}.commentForm,.commentList{display:none}ul{padding-left:.5em;list-style-position:inside}pre{max-width:calc(100% - 1rem)}code{overflow-wrap:break-word;word-wrap:break-word;word-break:break-word}iframe{max-width:533px}@media (max-width:480px){#navigation-aside{-webkit-flex-direction:row;flex-direction:row}#navigation{width:50%}#aside>img,#navigation img{-webkit-transform-origin:left;-webkit-transform:scaleX(2);transform-origin:left;transform:scaleX(2)}#aside{width:50%;margin:0 0 .5em .5em}iframe,img{max-width:100%;layout:responsive}}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:0 0;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#282a36}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#6272a4}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#ff79c6}.token.boolean,.token.number{color:#bd93f9}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#50fa7b}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#f1fa8c}.token.keyword{color:#8be9fd}.token.important,.token.regex{color:#ffb86c}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></head><body><header id="header"><a href="/"><img src="/static/city.jpg" alt="" width="1400" height="20"></a><a href="/"><div id="blog">blog</div><div id="ccasion">occasion</div></a>&nbsp;<strong>l'occasion</strong> <em>f</em> - Gelegenheit <em>f</em>, die ~ , der ~; <em>bei Gelegenheit</em> - <strong>&agrave; l'occasion</strong></header><div id="container"><div id="navigation-aside"><nav id="navigation"><h2>Tags</h2><a href="/"><img src="/static/mountains_sunrise.jpg" alt="" width="120" height="23"></a><a href="/blogccasion/tags/Private/" class="tag">Private</a> <a href="/blogccasion/tags/Technical/" class="tag">Technical</a> <a href="/blogccasion/tags/France/" class="tag">France</a> <a href="/blogccasion/tags/Work/" class="tag">Work</a> <a href="/blogccasion/tags/Political/" class="tag">Political</a><h2>Pages</h2><a href="/"><img src="/static/mountains_sunrise.jpg" alt="" width="120" height="23"></a><a class="nav-item" href="/blogccasion/">Home</a> <a class="nav-item" href="/blogccasion/posts/">Archive</a> <a class="nav-item" href="/blogccasion/about/">About</a></nav><aside id="aside"><h2>Related</h2><img src="/static/palms.jpg" alt="" width="120" height="23"><div><p><a href="/blogccasion/feed/feed.xml" rel="me"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="16" height="16" viewBox="0 0 256 256"><rect width="246" height="246" rx="50" ry="50" x="5" y="5" fill="#F49C52"/><rect width="236" height="236" rx="47" ry="47" x="10" y="10" fill="#F49C52"/><circle cx="68" cy="189" r="24" fill="#FFF"/><path d="M160 213h-34a82 82 0 0 0-82-82v-34a116 116 0 0 1 116 116zM184 213A140 140 0 0 0 44 73V38a175 175 0 0 1 175 175z" fill="#FFF"/></svg> Blog Feed</a></p><p><a href="https://twitter.com/tomayac" rel="me"><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" height="16" width="16" version="1.1" viewBox="0 0 182.7 150.7"><defs><clipPath clipPathUnits="userSpaceOnUse"><path d="m0 10h1366.9v1110.9h-1366.9z"/></clipPath></defs><g transform="matrix(1.3333 0 0 -1.3333 0 150.67)"><g transform="scale(.1)"><g clip-path="url(#clipPath20)"><path d="m1366.9 989.4c-50.3-22.3-104.3-37.4-161-44.2 57.9 34.7 102.3 89.7 123.3 155.2-54.2-32.1-114.2-55.5-178.1-68-51.1 54.5-124 88.6-204.7 88.6-154.9 0-280.4-125.5-280.4-280.4 0-22 2.5-43.4 7.3-63.9-233.1 11.7-439.7 123.4-578 293-24.1-41.4-38-89.6-38-141 0-97.3 49.5-183.1 124.8-233.4-46 1.4-89.2 14.1-127 35.1 0-1.2 0-2.3 0-3.5 0-135.9 96.7-249.2 225-275-23.5-6.4-48.3-9.8-73.9-9.8-18.1 0-35.6 1.7-52.8 5 35.7-111.4 139.3-192.5 262-194.8-96.1-75.2-217-120-348.4-120-22.6 0-45 1.3-66.9 3.9 124.2-79.6 271.6-126 429.9-126 515.8 0 797.9 427.3 797.9 797.9 0 12.2-0.3 24.2-0.8 36.3 54.8 39.6 102.3 89 139.9 145.2" fill="#55ACEE"/></g></g></g></svg> @tomayac</a></p><p><a href="https://tomayac.com/tweets" rel="me"><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" height="16" width="16" version="1.1" viewBox="0 0 182.7 150.7"><defs><clipPath clipPathUnits="userSpaceOnUse"><path d="m0 10h1366.9v1110.9h-1366.9z"/></clipPath></defs><g transform="matrix(1.3333 0 0 -1.3333 0 150.67)"><g transform="scale(.1)"><g clip-path="url(#clipPath20)"><path d="m1366.9 989.4c-50.3-22.3-104.3-37.4-161-44.2 57.9 34.7 102.3 89.7 123.3 155.2-54.2-32.1-114.2-55.5-178.1-68-51.1 54.5-124 88.6-204.7 88.6-154.9 0-280.4-125.5-280.4-280.4 0-22 2.5-43.4 7.3-63.9-233.1 11.7-439.7 123.4-578 293-24.1-41.4-38-89.6-38-141 0-97.3 49.5-183.1 124.8-233.4-46 1.4-89.2 14.1-127 35.1 0-1.2 0-2.3 0-3.5 0-135.9 96.7-249.2 225-275-23.5-6.4-48.3-9.8-73.9-9.8-18.1 0-35.6 1.7-52.8 5 35.7-111.4 139.3-192.5 262-194.8-96.1-75.2-217-120-348.4-120-22.6 0-45 1.3-66.9 3.9 124.2-79.6 271.6-126 429.9-126 515.8 0 797.9 427.3 797.9 797.9 0 12.2-0.3 24.2-0.8 36.3 54.8 39.6 102.3 89 139.9 145.2" fill="#55ACEE"/></g></g></g></svg> Tweet Archive</a></p><p><a href="/pgp_public_key.asc">üîê PGP Public Key</a></p></div></aside></div><main class="tmpl-post" id="content"><h2>A Look Inside the Think Tank...</h2><article class="blogPost"><header><a href="/blogccasion/2007/06/14/rest-describe-compile-in-practice-150652/"><h3>REST Describe &amp; Compile in practice</h3></a><div><small>Created on <b><time datetime="2007-06-14T15:06:52.000Z">Thu Jun 14 2007</time></b>. <a href="/tags/Work" class="tag">Work</a></small></div><div><small>Written by <b>Thomas Steiner</b>.</small></div><hr></header><b>REST Describe & Compile in practice</b><br><br>Nothing helps you get a better feeling for your products than using them yourself. This can be a painful experience, or pure pleasure. Anyway, being an egomaniac guy, I am always interested in the readers of this blog. Loyal readers leave links, so I decided to give Yahoo's <a href="http://developer.yahoo.com/search/siteexplorer/V1/inlinkData.html">Inbound Links API</a> a try. I navigated to the API's textual documentation, and based on the description created the following request URI:<br><br><span style="font-family:monospace"><span style="color:#00008b">http://search.yahooapis.com/SiteExplorerService/V1/inlinkData</span>?<br>&nbsp;&nbsp;<span style="color:#006400">appid</span>=<span style="color:maroon">YahooDemo</span>&<br>&nbsp;&nbsp;<span style="color:#006400">query</span>=<span style="color:maroon">https://blog.tomayac.com</span>&<br>&nbsp;&nbsp;<span style="color:#006400">results</span>=<span style="color:maroon">100</span>&<br>&nbsp;&nbsp;<span style="color:#006400">start</span>=<span style="color:maroon">1</span>&<br>&nbsp;&nbsp;<span style="color:#006400">entire_site</span>=<span style="color:maroon">1</span>&<br>&nbsp;&nbsp;<span style="color:#006400">omit_inlinks</span>=<span style="color:maroon">domain</span>&<br>&nbsp;&nbsp;<span style="color:#006400">output</span>=<span style="color:maroon">xml</span></span><br><br>I then fed this URI into REST Describe & Compile and hit the "Analyze" button.<br><br>The results were as follows:<br><table><tr><td><br><img width="100" src="/images/analyze1.png"><br></td><td><ul><li><span style="color:#006400">appid</span> xsd:string (supposed) &raquo; Estimation: true. Missing: parameter is required.</li><li><span style="color:#006400">query</span> xsd:anyURI (sure) &raquo; Estimation: false. This is a string. Missing: parameter is required.</li><li><span style="color:#006400">results</span> xsd:integer (sure) &raquo; Estimation: true. Missing: default is 50.</li><li><span style="color:#006400">start</span> xsd:integer (supposed) &raquo; Estimation: true. Missing: default is 1.</li><li><span style="color:#006400">entire_site</span> xsd:string (supposed) &raquo; Estimation: true/false. Parameter is 1 or no value.</li><li><span style="color:#006400">omit_inlinks</span> xsd:string (supposed) &raquo; Estimation: false. This is one out of {none|domain|subdoamin}. Missing: default is none.</li><li><span style="color:#006400">output</span> xsd:string (supposed) &raquo; Estimation: false. This is one out of {xml|json|php}. Missing: default is xml.</li></ul></td></tr></table>So all in all, the estimation rate is far from being perfect. The good news is: this does not matter much <span style="font-family:monospace;font-style:bold">:-)</span><br><br><b>Custom types</b> like the <span style="color:#006400">omit_links</span> one cannot be detected from a client-side-only analysis as we would have to read the remote schema. This is not allowed because of the <a href="http://www.mozilla.org/projects/security/components/same-origin.html">Same Origin Policy</a>. However, we can safely treat these parameters as strings instead. The <span style="color:#006400">query</span> parameter was mis-estimated to be xsd:anyURI. Well, it has a value of "https://blog.tomayac.com", so no big surprise. The API documentation states that this should be string, but come on, this API is about inbound links, so the target must be a URI, right? So no problem treating it like one.<br><br>The two <span style="color:#006400">results</span> and <span style="color:#006400">start</span> parameters were correctly identified as integers, however, the type for the latter parameter just being supposed. Why is this so? The response is the next parameter <span style="color:#006400">entire_site</span>. This parameter actually is a boolean, however, the good folks at Yahoo use 1 instead of true as a value. REST Describe & Compile has this two-level type analysis feature <a href="/index.php?date=2007-04-26&time=18:05:54&perma=REST+Describe+first+.html&">mentioned earlier</a> that in case of doubts also analyzes the parameter name. In none of the two cases the name starts with "is" or "has", or ends with "ed", which would be treated as boolean indicators. So the fallback is integer, however with just a "supposed" estimation quality rating. The two last parameters are custom types again, so nothing new to say.<br><br>According to the <a href="http://developer.yahoo.com/search/errors.html">documentation</a>, the API throws some standard 400, 403, and 503 errors. These "Faults" are quickly added to the WADL using the editor. We are interested in the <span style="font-family:monospace">&lt;Result&gt;</span> elements of the response XML, so we add this as a "Representation". The result is the <a href="/images/Yahoo!_Inbound_Links_API.wadl.xml">Yahoo! Inbound Links API WADL</a>.<br><br>Next I hit the "Generate Code" button, then the "PHP 5" button, and out came PHP 5 code that I could directly use with the following script:<pre><code>&lt;?php<br>
  require_once('InlinkApi.php5');<br>
  $inlinkRequest = new InlinkDataRequest(<br>
    'MySecretYahooToken',<br>
    'https://blog.tomayac.com',<br>
    10,<br>
    1,<br>
    1,<br>
    'domain');<br>
  $response = $inlinkRequest-&gt;submit();<br>
  <br>
  $xml = new SimpleXMLElement($response);<br>
  echo '&lt;p&gt;' . $xml['totalResultsAvailable'] . ' sites link to here.&lt;/p&gt;';<br>
  foreach ($xml-&gt;Result as $result) {<br>
       echo '&lt;p&gt;' . $result->Title . ': &lt;a href="' . $result->ClickUrl .<br>
         '"&gt;' . $result->Url . '&lt;/a&gt;&lt;/p&gt;';<br>
  }  <br>
?&gt;</code></pre>I did not have to change anything in the generated code. Try it out on your own: take my previously generated <a href="/images/Yahoo!_Inbound_Links_API.wadl.xml">WADL</a>, upload it to <a href="http://tomayac.com/rest-describe/latest/RestDescribe.html">REST Describe & Compile</a> and generate your own code. As a prove that I did not lie to you <a href="/images/inlinks.php5">check out my code</a> directly from here. Not so bad. What do you say?</article></main></div><footer id="footer"><ul><li>¬© 2005‚Äì2019 <a href="/about">Thomas Steiner</a></li><li>Distributed under <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></li><li>Contact and required <a href="/about/">legal info</a></li><li><small>This website uses Google Analytics</small></li></ul></footer></body></html>