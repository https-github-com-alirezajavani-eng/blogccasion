<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,viewport-fit=cover"><meta property="twitter:account_id" content="1510101733"><meta name="description" content="(This is the write-up of the third episode of my new YouTube show ‚ÄúWhy Build Progressive Web Apps.‚Äù If you prefer watching, the video is embedded below.) (Also check out the write-up of the first‚Ä¶"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="monetization" content="$pay.stronghold.co/1a1c51358527bef4dc7bcc3e92b155ec07a"><meta name="theme-color"><link rel="icon" href="/images/thomas_steiner.jpg"><link rel="canonical" href="/blogccasion/2018/12/11/why-build-progressive-web-apps-if-its-just-a-bookmark-its-not-a-pwa-video-write-up/"><link rel="alternate" href="/blogccasion/feed/feed.xml" type="application/atom+xml" title="Blogccasion"><link rel="author" href="https://tomayac.com/humans.txt" type="text/plain"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet"><script>if (window.matchMedia('(prefers-color-scheme: dark)').media === 'not all') {
        document.documentElement.style.display = 'none';
        document.head.insertAdjacentHTML(
            'beforeend',
            '<link rel="stylesheet" href="/light.css" onload="document.documentElement.style.display = \'\'">'
        );
      }</script><link rel="stylesheet" href="/css/light.css" media="(prefers-color-scheme:light),(prefers-color-scheme:no-preference)"><link rel="stylesheet" href="/css/dark.css" media="(prefers-color-scheme:dark)"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/prism-theme.css"><link rel="webmention" href="https://webmention.io/blog.tomayac.com/webmention"><link rel="pingback" href="https://webmention.io/blog.tomayac.com/xmlrpc"><title>Why Build Progressive Web Apps: If It‚Äôs Just a Bookmark, It‚Äôs not a PWA!‚ÄîVideo Write-Up</title><script type="module" src="/js/script.mjs"></script></head><body><div class="container"><header><a href="/"><h1>blogccasion</h1></a><div class="header-footer-text"><span lang="fr"><strong>l'occasion</strong> <em>f</em> ‚Äî </span><span lang="de">Gelegenheit</span> <em>f</em>, die ~ , der ~; <em>bei Gelegenheit</em> ‚Äî <span lang="fr"><strong>√† l'occasion</strong></span></div></header><main class="tmpl-post"><article><header><a href="/blogccasion/2018/12/11/why-build-progressive-web-apps-if-its-just-a-bookmark-its-not-a-pwa-video-write-up/"><h1>Why Build Progressive Web Apps: If It‚Äôs Just a Bookmark, It‚Äôs not a PWA!‚ÄîVideo Write-Up</h1></a><div class="metadata post-date"><img class="author" src="/images/thomas_steiner.jpg" alt="Thomas Steiner headshot"><p>By <a href="/about/">Thomas Steiner</a>. Written on <time datetime="2018-12-11T11:13:43.612Z">Tue Dec 11 2018</time>. <a href="/tags/Technical" class="tag-item"><b>Technical</b></a></p></div></header><p><em>(This is the write-up of the third episode of my new YouTube show ‚ÄúWhy Build Progressive Web Apps.‚Äù If you prefer watching, the</em> <a href="https://youtu.be/kENeCdS3fzU"><em>video</em></a> <em>is embedded below.)</em></p><p><em>(Also check out the</em> <a href="https://medium.com/dev-channel/why-build-progressive-web-apps-never-lose-a-click-out-video-write-up-74cbbc466afd"><em>write-up of the first episode</em></a> <em>and the</em> <a href="https://medium.com/dev-channel/why-build-progressive-web-apps-push-but-dont-be-pushy-video-write-up-aa78296886e"><em>write-up of the second episode</em></a><em>, or watch the</em> <a href="https://www.youtube.com/watch?v=4UK_TDTTWnQ"><em>first episode video</em></a> <em>and the</em> <a href="https://www.youtube.com/watch?v=vRsVx8_94UQ"><em>second episode video</em></a><em>.)</em></p><embed src="https://www.youtube.com/embed/kENeCdS3fzU?feature=oembed" caption="‚ÄúWhy Build Progressive Web Apps,‚Äù episode 3: If It‚Äôs Just a Bookmark, It‚Äôs not a PWA!"><p><em>Add to Home Screen</em> is a concept almost as old as the original iPhone. In fact, it was introduced in February 2008 with <a href="https://www.macworld.com/article/1131616/iphone_update.html">iPhone OS version 1.1.3</a>. Today, more than 10 years later, the feature has come a really long way. What started as a mere bookmark, has now turned into a PWA super power.</p><p><img src="/images/asset-1____.png" alt="Add to Home Screen on iPhone OS¬†1.1.3."></p><p>Chrome first introduced Add to Home Screen banners <a href="https://www.youtube.com/watch?v=vl4-WMImj6I&amp;feature=youtu.be&amp;t=52">in Chrome 42</a>‚Äîwe are talking May 2015. We have heard from developers like Alibaba, that <a href="https://developers.google.com/web/showcase/2016/alibaba">users re-engage 4 times more often</a> with their site added to home screen. So in the early days, it seemed like getting users to install a PWA was an immediate recipe for success. In consequence, we tuned the heuristics for add to home screen to prompt users sooner, which yielded to <a href="https://medium.com/dev-channel/the-new-and-improved-add-to-home-screen-1f79bdd464b0">48% more installs</a>.</p><p><img src="/images/asset-2____.png" alt="Alibaba users re-engage four times more often with their site added to home screen (Source: https://developers.google.com/web/showcase/2016/alibaba)."></p><p>In hindsight, this alone was not directly correlated with other app success metrics that you as a developer would care about, such as conversions. We introduced an improved variant of the feature in Chrome Beta 57 called <a href="https://developers.google.com/web/fundamentals/integration/webapks">WebAPK</a>, with better integration into Android, so apps were no longer just better bookmarks. Other new features included the ability to <em>change the app icon</em> and <em>app name</em> by changing the values in the Web App Manifest, and also to register a <em>scope of URLs</em> where the app would be launched for directly.</p><p>But we have heard one thing loud and clear: <strong>developers want more control as to when their apps show the banner</strong>. For example, if you are an <em>airline site</em> and you have a PWA for storing boarding passes, it only makes sense to ask people to install it after they have actually bought a ticket. If you are a <em>news site</em> and your users are logged in, it might make sense to show the prompt immediately. And in some cases, even if you have a fully qualifying PWA, you might not even want to show the prompt at all. But most probably, you would want to define your own criteria in your app to determine who‚Äôs a loyal enough user to show the banner to.</p><p>Let us see how we can do that in our good old friend <a href="https://googlechromelabs.github.io/affilicats/">üêà AffiliCats</a> that we have introduced in our last two episodes. It simulates a comparison site where you can get great offers for cats. <em>AffiliCats makes money when someone clicks through to view one of the deals</em>. The app meets the PWA installability quality bar in Lighthouse but we want to <em>hold back the prompt until someone has actually viewed at least two deals</em>.</p><p><img src="/images/asset-3____.png" alt="üêà AffiliCats meets the PWA installability quality bar in Lighthouse."></p><p>Should the user then come back to the app‚Ää‚Äî‚Ääwhich they hopefully do‚Ää‚Äî‚Ääwe can then show them a customized button that would trigger the browser‚Äôs prompt. We are in full control.</p><pre><code>window.addEventListener('beforeinstallprompt', (event) =&gt; {
  let previouslyEngaged = localStorage.getItem('engagement');
  if (!previouslyEngaged) {
    console.log('Install button hidden due to no prior engagement');
    return;
  }
  previouslyEngaged = parseInt(previouslyEngaged, 10);
  if ((isNaN(previouslyEngaged)) ||
      (previouslyEngaged &lt; INSTALL_THRESHOLD)) {
    console.log('Install button hidden due to too low engagement');
    return;
  }
  event.preventDefault();
  installPromptEvent = event;
  install.disabled = false;
  install.hidden = false;
});
</code></pre><p>‚ö†Ô∏è Note that in Google Chrome currently there also is a temporary <a href="https://developers.google.com/web/updates/2018/06/a2hs-updates#the_mini-infobar">mini-infobar</a> that you <em>cannot</em> control. The manually controlled ‚ÄúInstall‚Äù button in the screenshot below is fully customizable. This is the behavior this article and the accompanying video are talking about.</p><p><img src="/images/asset-4____.png" alt="üêà AffiliCats with a customized ‚ÄúInstall‚Äù button that only gets shown once the app engagement threshold has been¬†reached."></p><p>Add to home screen is a <a href="https://emojipedia.org/superhero/">ü¶∏</a> superpower that, if used wisely, can indeed have a massive impact on how users use your PWA, and if they perceive it as a real app worth a precious space on their home screen. As always, you are invited to <a href="https://googlechromelabs.github.io/affilicats/">play with this app</a> yourself and read the <a href="https://github.com/GoogleChromeLabs/affilicats">source code</a>.</p><p>This is the final episode of <em>‚ÄúWhy build Progressive Web Apps‚Äù</em> in 2018. Looking forward to reading our seeing you in 2019! Do let us know in the comments on any of the videos or write-ups what you want us to cover next. In order not to miss future episodes, <strong><em>subscribe</em></strong> to our <a href="https://medium.com/dev-channel">Medium Dev Channel</a>, the Chrome Developers <a href="https://www.youtube.com/channel/UCnUYZLuoy1rq1aVMwx4aTzw">YouTube channel</a>, follow <a href="https://twitter.com/ChromiumDev">@ChromiumDev</a> on Twitter‚Ää‚Äî‚Ääand if you like, I am <a href="https://twitter.com/tomayac">@tomayac</a> almost universally on the World Wide Internet.</p><p>[<span class="edit-on-github">You can <a href="https://github.com/tomayac/blogccasion/tree/master/./posts/2018/2018-12-11_why-build-progressive-web-apps-if-its-just-a-bookmark-its-not-a-pwa-video-write-up.md" rel="nofollow">edit this page on GitHub</a>.</span>]</p></article></main><nav><h2>Pages</h2><ul><li><a class="nav-item" href="/blogccasion/">Home</a></li><li><a class="nav-item" href="/blogccasion/posts/">Archive</a></li><li><a class="nav-item" href="/blogccasion/about/">About</a></li></ul><h2>Tags</h2><ul><li><a href="/blogccasion/tags/Technical/" class="tag-item">Technical</a></li><li><a href="/blogccasion/tags/France/" class="tag-item">France</a></li><li><a href="/blogccasion/tags/Work/" class="tag-item">Work</a></li><li><a href="/blogccasion/tags/Private/" class="tag-item">Private</a></li><li><a href="/blogccasion/tags/Political/" class="tag-item">Political</a></li></ul></nav><svg xmlns="http://www.w3.org/2000/svg"><symbol id="icon-rss" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></symbol><symbol id="icon-twitter" aria-label="Twitter" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></symbol><symbol id="icon-mastodon" aria-label="Mastodon" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%"/><path d="M409 290c-5 24-43 50-85 56-86 11-137-6-137-6 3 13-4 54 70 52 31 0 58-7 58-7l2 27c-51 24-107 15-140 6-67-17-79-90-81-162v-59c0-74 49-96 49-96 50-24 180-22 222 0 0 0 49 22 49 96 0 0 1 55-7 93" fill="#3088d4"/><path d="M358 202v91h-35v-88c0-18-8-27-23-27-18 0-27 11-27 33v47h-34v-47c0-22-9-33-27-33-15 0-23 9-23 27v88h-35v-91c0-18 5-60 52-60 39 0 50 37 50 37s10-37 50-37c45 0 52 42 52 60"/></symbol><symbol id="icon-pgp" aria-label="PGP Public Key" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#29303d"/><g fill="#29303d"><path stroke="#e0e4eb" stroke-width="32" d="M346 214v-37c0-123-180-123-180 0v37"/><rect fill="#ff0" height="210" rx="5%" width="280" x="115" y="210"/><circle cx="256" cy="296" r="28"/><path d="M262 296h-12l-16 69h44"/></g></symbol><symbol id="icon-github" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></symbol></svg><aside><h2>Related</h2><ul><li><a class="aside-item" href="/blogccasion/feed/feed.xml" rel="me"><svg class="icon"><use xlink:href="#icon-rss"></use></svg> Blog Feed</a></li><li><a class="aside-item" href="https://twitter.com/tomayac" rel="me"><svg class="icon"><use xlink:href="#icon-twitter"></use></svg> Twitter</a></li><li><a class="aside-item" href="https://tomayac.com/tweets" rel="me"><svg class="icon"><use xlink:href="#icon-twitter"></use></svg> Tweet Archive</a></li><li><a class="aside-item" href="https://toot.cafe/@tomayac" rel="me"><svg class="icon"><use xlink:href="#icon-mastodon"></use></svg> Mastodon</a></li><li><a class="aside-item" href="https://github.com/tomayac" rel="me"><svg class="icon"><use xlink:href="#icon-github"></use></svg> GitHub</a></li><li><a class="aside-item" href="/pgp_public_key.asc"><svg class="icon"><use xlink:href="#icon-pgp"></use></svg> Public Key</a></li></ul></aside><footer id="footer"><ul class="header-footer-text"><li>¬© 2005‚Äì2019 <a class="footer-link" href="/about">Thomas Steiner</a>.</li><li>Distributed under <a class="footer-link" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.</li><li>Contact and required <a class="footer-link" href="/about/">legal info</a>.</li></ul><dark-mode-toggle permanent dark="Light Theme" light="Dark Theme"></dark-mode-toggle><a class="validator" href="https://validator.w3.org/nu/?doc=https://blog.tomayac.com/blogccasion/2018/12/11/why-build-progressive-web-apps-if-its-just-a-bookmark-its-not-a-pwa-video-write-up/"><img src="/static/validhtml5.svg" width="88" height="31" alt="Valid HTML5 badge"></a></footer></div></body></html>