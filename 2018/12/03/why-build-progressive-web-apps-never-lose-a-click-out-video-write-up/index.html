<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,viewport-fit=cover"><meta property="twitter:account_id" content="1510101733"><meta name="description" content="(This is the write-up of the first episode of my new YouTube show ‚ÄúWhy Build Progressive Web Apps.‚Äù If you prefer watching, the video is embedded below.) (Also check out the the write-up of the‚Ä¶"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="monetization" content="$pay.stronghold.co/1a1c51358527bef4dc7bcc3e92b155ec07a"><meta name="theme-color"><link rel="icon" href="/static/icon.png"><link rel="apple-touch-icon" href="/static/icon.png"><link rel="canonical" href="/blogccasion/2018/12/03/why-build-progressive-web-apps-never-lose-a-click-out-video-write-up/"><link rel="alternate" href="/blogccasion/feed/feed.xml" type="application/atom+xml" title="Blogccasion"><link rel="author" href="https://tomayac.com/humans.txt" type="text/plain"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet"><script>if (window.matchMedia('(prefers-color-scheme: dark)').media === 'not all') {
        document.documentElement.style.display = 'none';
        document.head.insertAdjacentHTML(
            'beforeend',
            '<link rel="stylesheet" href="/light.css" onload="document.documentElement.style.display = \'\'">'
        );
      }</script><link rel="stylesheet" href="/css/light.css" media="(prefers-color-scheme:light),(prefers-color-scheme:no-preference)"><link rel="stylesheet" href="/css/dark.css" media="(prefers-color-scheme:dark)"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/prism-theme.css"><link rel="webmention" href="https://webmention.io/blog.tomayac.com/webmention"><link rel="pingback" href="https://webmention.io/blog.tomayac.com/xmlrpc"><link rel="manifest" href="/manifest.webmanifest"><title>Why Build Progressive Web Apps: Never Lose a Click-Out!‚ÄîVideo Write-Up</title><script type="module" src="/js/script.mjs"></script><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@tomayac"><meta name="twitter:title" content="Why Build Progressive Web Apps: Never Lose a Click-Out!‚ÄîVideo Write-Up"><meta name="twitter:description" content="(This is the write-up of the first episode of my new YouTube show ‚ÄúWhy Build Progressive Web Apps.‚Äù If you prefer watching, the video is embedded below.) (Also check out the the write-up of the‚Ä¶"><meta name="twitter:image" content="https://blog.tomayac.com/blogccasion/2018/12/03/why-build-progressive-web-apps-never-lose-a-click-out-video-write-up/screenshot-dark.png"></head><body><div class="container"><header><a href="/"><h1>blogccasion</h1></a><div class="header-footer-text"><span lang="fr"><strong>l'occasion</strong> <em>f</em> ‚Äî </span><span lang="de">Gelegenheit</span> <em>f</em>, die ~ , der ~; <em>bei Gelegenheit</em> ‚Äî <span lang="fr"><strong>√† l'occasion</strong></span></div></header><main class="tmpl-post"><article><header><a href="/blogccasion/2018/12/03/why-build-progressive-web-apps-never-lose-a-click-out-video-write-up/"><h1>Why Build Progressive Web Apps: Never Lose a Click-Out!‚ÄîVideo Write-Up</h1></a><div class="metadata post-date"><img class="author" src="/images/thomas_steiner.jpg" alt="Thomas Steiner headshot"><p>By <a href="/about/">Thomas Steiner</a>. Written on <time datetime="2018-12-03T14:03:09.463Z">Mon Dec 03 2018</time>. <a href="/tags/Technical" class="tag-item"><b>Technical</b></a></p></div></header><p><em>(This is the write-up of the first episode of my new YouTube show ‚ÄúWhy Build Progressive Web Apps.‚Äù If you prefer watching, the</em> <a href="https://www.youtube.com/watch?v=4UK_TDTTWnQ"><em>video</em></a> <em>is embedded below.)</em></p><p><em>(Also check out the the</em> <a href="https://medium.com/dev-channel/why-build-progressive-web-apps-push-but-dont-be-pushy-video-write-up-aa78296886e"><em>write-up of the second episode</em></a> <em>and the</em> <a href="https://medium.com/dev-channel/why-build-progressive-web-apps-if-its-just-a-bookmark-it-s-not-a-pwa-video-write-up-7ccca1c58034"><em>write-up of the third episode</em></a><em>, or watch the</em> <a href="https://www.youtube.com/watch?v=vRsVx8_94UQ"><em>second episode video</em></a> <em>and the</em> <a href="https://youtu.be/kENeCdS3fzU"><em>third episode video</em></a><em>.)</em></p><p>On the Google Chrome Developers <a href="https://www.youtube.com/channel/UCnUYZLuoy1rq1aVMwx4aTzw">YouTube channel</a>, we have been pushing the concept of Progressive Web Apps (PWA) a fair bit, and there have been some great <a href="https://youtu.be/Xryhxi45Q5M">success</a> <a href="https://youtu.be/SJiKWwBtQaU">stories</a> of companies building PWAs. But you might wonder, what may have worked for the mentioned partners, might not necessarily work for your company. In my new video series called <em>‚ÄúWhy build Progressive Web Apps,‚Äù</em> I want to show you common <strong><em>use-case driven patterns for applying PWA features</em></strong> that set <em>you</em> up for success. In the first episode, I look at affiliate sites and how they can manage to never lose a click-out.</p><embed src="https://www.youtube.com/embed/4UK_TDTTWnQ?feature=oembed" caption="‚ÄúWhy Build Progressive Web Apps,‚Äù episode 1: Never Lose a Click-Out!"><p>You have maybe seen or even used a <strong><em>comparison site</em></strong> in the past. For example, to find out what is the cheapest internet provider, or to get the best hotel offer for your next vacation. Many of these comparison sites rely on <strong><em>commission-based affiliate marketing</em></strong>: when you click out to a third-party vendor site and end up converting, the referring comparison site earns a small fee. In consequence, such sites want you to click through to the best offer, and under no circumstances do they want to risk losing a click-out.</p><p><img src="/images/asset-1___.png" alt="Screenshots of exemplary comparison sites."></p><p>Many sessions with comparison sites happen ‚Äúon the go,‚Äù say, on the commute to work. And while in the majority of cases you might be connected, there are definitely situations where you lose your connection, like in a tunnel or when your signal strength drops to just one or two bars, and you end up being <em>de facto</em> offline. Having an architecture that gives the network some time to respond, but that gracefully degrades to cached content or fallback placeholder content, can help improve the user‚Äôs experience drastically.</p><p><img src="/images/asset-2__.png" alt="About to lose your mobile connection (Credits: https://unsplash.com/photos/wVcQqwNeDj8)."></p><p>In order to demonstrate how to deal with such situations, I have created my own sample comparison site called <a href="https://googlechromelabs.github.io/affilicats/"><strong>üêà AffiliCats</strong></a> with purely dummy content, but coming from <em>real APIs</em> like the <a href="https://github.com/GoogleChromeLabs/affilicats/blob/895c27b2f87f377049d477ea90c8927ce52f1fb5/src/js/main.js#L64-L74">Wikimedia API</a>, the <a href="https://github.com/GoogleChromeLabs/affilicats/blob/895c27b2f87f377049d477ea90c8927ce52f1fb5/src/js/main.js#L183-L189">Google Static Maps API</a>, the <a href="https://github.com/GoogleChromeLabs/affilicats/blob/895c27b2f87f377049d477ea90c8927ce52f1fb5/src/js/main.js#L202-L204">Random Number API</a>, the <a href="https://github.com/GoogleChromeLabs/affilicats/blob/895c27b2f87f377049d477ea90c8927ce52f1fb5/src/js/main.js#L202-L204">Bacon Ipsum API</a>, and the <a href="https://github.com/GoogleChromeLabs/affilicats/blob/895c27b2f87f377049d477ea90c8927ce52f1fb5/src/js/main.js#L270">Place Kittens API</a>.</p><p><img src="/images/asset-3__.png" alt="üêà AffiliCats sample app (Source: https://googlechromelabs.github.io/affilicats/)."></p><p>The app has a big search bar on top where you can search for items, like cats. Each item has an image and a title, as well as offers and a <em>‚ÄúView Deal‚Äù</em> button that leads to the third-party vendor‚Äôs site. Then we have three tabs with more <em>photos</em>, <em>reviews</em>, and the <em>location</em> of the item.</p><p><img src="/images/asset-4__.png" alt="üêà AffiliCats tabs: photos, reviews, location (Source: https://googlechromelabs.github.io/affilicats/)."></p><p>Each tab‚Äôs content is <em>lazily loaded</em> on-demand with one, or multiple, fetch request. So in each case, the request can either <em>succeed</em>, <em>time out</em> if the network is too slow, or <em>fail</em> from the start if we‚Äôre entirely offline.</p><p><img src="/images/asset-5__.png" alt="Waterfall diagram showing lazy-loading."></p><p>In the latter two cases, we want to respond with <em>fallback content</em>, for example, a ‚Äúreviews took too long to load‚Äù message, or a timeout image. When the network comes back, or the slow request eventually goes through, we can then dynamically replace the fallback or placeholder content with real content. The user can also decide to press ‚Äúreload‚Äù and refresh the complete page. This is called ‚Äúnavigation request‚Äù. If we‚Äôre offline, we can then show a fallback page with skeleton content.</p><p><img src="/images/asset-6__.png" alt="Fallback content in case loading takes too long, offline placeholders, and dynamic¬†loading."></p><p>Finally, let‚Äôs see how we can make sure not to lose the click-out. What happens if the user clicks on the ‚ÄúView Deal‚Äù button when they are offline? Notice how most of the page is disabled, but the money-making button is still active?</p><p><img src="/images/asset-7__.png" alt="While the app is offline and most interactive features are disabled, the ‚ÄúView Deal‚Äù button can still be¬†clicked."></p><p>A <em>precached forwarding page</em> opens that waits for the connection to come back, and once online again, it then eventually still realizes the click-out, and drops our imaginary affiliate cookie‚Ä¶ üí∏</p><p><img src="/images/asset-8__.png" alt="The precached forwarding page loads‚Äîeven when offline‚Äîand waits for the connection to come back, to then eventually still realize the click-out."></p><p>You are invited to <a href="https://googlechromelabs.github.io/affilicats/">play with this app</a> yourself and read the <a href="https://github.com/GoogleChromeLabs/affilicats">source code</a>. I hope this has been useful, and maybe you can apply some of these patterns to your own websites. Thanks for reading, and see or read you for the next episode of ‚ÄúWhy build Progressive Web Apps,‚Äù where we will look at push notifications.</p><p>In order not to miss it, <strong><em>subscribe</em></strong> to our <a href="https://medium.com/dev-channel">Medium Dev Channel</a>, the Chrome Developers <a href="https://www.youtube.com/channel/UCnUYZLuoy1rq1aVMwx4aTzw">YouTube channel</a>, follow <a href="https://twitter.com/ChromiumDev">@ChromiumDev</a> on Twitter‚Äîand if you like, I am <a href="https://twitter.com/tomayac">@tomayac</a> almost universally on the World Wide Internet.</p><p>[<span class="edit-on-github">You can <a href="https://github.com/tomayac/blogccasion/tree/master/./posts/2018/2018-12-03_why-build-progressive-web-apps-never-lose-a-click-out-video-write-up.md" rel="nofollow">edit this page on GitHub</a>.</span>]</p></article></main><nav><h2>Pages</h2><ul><li><a class="nav-item" href="/blogccasion/">Home</a></li><li><a class="nav-item" href="/blogccasion/posts/">Archive</a></li><li><a class="nav-item" href="/blogccasion/about/">About</a></li></ul><h2>Tags</h2><ul><li><a href="/blogccasion/tags/Technical/" class="tag-item">Technical</a></li><li><a href="/blogccasion/tags/France/" class="tag-item">France</a></li><li><a href="/blogccasion/tags/Work/" class="tag-item">Work</a></li><li><a href="/blogccasion/tags/Private/" class="tag-item">Private</a></li><li><a href="/blogccasion/tags/Political/" class="tag-item">Political</a></li></ul></nav><svg xmlns="http://www.w3.org/2000/svg"><symbol id="icon-rss" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></symbol><symbol id="icon-twitter" aria-label="Twitter" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></symbol><symbol id="icon-mastodon" aria-label="Mastodon" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%"/><path d="M409 290c-5 24-43 50-85 56-86 11-137-6-137-6 3 13-4 54 70 52 31 0 58-7 58-7l2 27c-51 24-107 15-140 6-67-17-79-90-81-162v-59c0-74 49-96 49-96 50-24 180-22 222 0 0 0 49 22 49 96 0 0 1 55-7 93" fill="#3088d4"/><path d="M358 202v91h-35v-88c0-18-8-27-23-27-18 0-27 11-27 33v47h-34v-47c0-22-9-33-27-33-15 0-23 9-23 27v88h-35v-91c0-18 5-60 52-60 39 0 50 37 50 37s10-37 50-37c45 0 52 42 52 60"/></symbol><symbol id="icon-pgp" aria-label="PGP Public Key" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#29303d"/><g fill="#29303d"><path stroke="#e0e4eb" stroke-width="32" d="M346 214v-37c0-123-180-123-180 0v37"/><rect fill="#ff0" height="210" rx="5%" width="280" x="115" y="210"/><circle cx="256" cy="296" r="28"/><path d="M262 296h-12l-16 69h44"/></g></symbol><symbol id="icon-github" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></symbol></svg><aside><h2>Related</h2><ul><li><a class="aside-item" href="/blogccasion/feed/feed.xml" rel="me"><svg class="icon"><use xlink:href="#icon-rss"></use></svg> Blog Feed</a></li><li><a class="aside-item" href="https://twitter.com/tomayac" rel="me"><svg class="icon"><use xlink:href="#icon-twitter"></use></svg> Twitter</a></li><li><a class="aside-item" href="https://tomayac.com/tweets" rel="me"><svg class="icon"><use xlink:href="#icon-twitter"></use></svg> Tweet Archive</a></li><li><a class="aside-item" href="https://toot.cafe/@tomayac" rel="me"><svg class="icon"><use xlink:href="#icon-mastodon"></use></svg> Mastodon</a></li><li><a class="aside-item" href="https://github.com/tomayac" rel="me"><svg class="icon"><use xlink:href="#icon-github"></use></svg> GitHub</a></li><li><a class="aside-item" href="/pgp_public_key.asc"><svg class="icon"><use xlink:href="#icon-pgp"></use></svg> Public Key</a></li></ul></aside><footer id="footer"><ul class="header-footer-text"><li>¬© 2005‚Äì2019 <a class="footer-link" href="/about">Thomas Steiner</a>.</li><li>Distributed under <a class="footer-link" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.</li><li>Contact and required <a class="footer-link" href="/about/">legal info</a>.</li></ul><dark-mode-toggle permanent dark="Light Theme" light="Dark Theme"></dark-mode-toggle><a class="validator" href="https://validator.w3.org/nu/?doc=https://blog.tomayac.com/blogccasion/2018/12/03/why-build-progressive-web-apps-never-lose-a-click-out-video-write-up/"><img src="/static/validhtml5.svg" width="88" height="31" alt="Valid HTML5 badge"></a></footer></div></body></html>