<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta property="twitter:account_id" content="1510101733"><meta name="description" content="The personal blog of Thomas Steiner"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="monetization" content="$pay.stronghold.co/1a1c51358527bef4dc7bcc3e92b155ec07a"><meta name="theme-color"><link rel="icon" href="/images/thomas_steiner.jpg"><link rel="canonical" href="/blogccasion/2019/08/15/a-quick-look-at-wechats-mini-programs/"><link rel="alternate" href="/blogccasion/feed/feed.xml" type="application/atom+xml" title="Blogccasion"><link rel="author" href="https://tomayac.com/humans.txt" type="text/plain"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet"><script>if (window.matchMedia('(prefers-color-scheme: dark)').media === 'not all') {
        document.documentElement.style.display = 'none';
        document.head.insertAdjacentHTML(
            'beforeend',
            '<link rel="stylesheet" href="/light.css" onload="document.documentElement.style.display = \'\'">'
        );
      }</script><link rel="stylesheet" href="/css/light.css" media="(prefers-color-scheme:light),(prefers-color-scheme:no-preference)"><link rel="stylesheet" href="/css/dark.css" media="(prefers-color-scheme:dark)"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/prism-theme.css"><title>A Quick Look At WeChat&#39;s Mini Programs</title><script type="module" src="/js/script.mjs"></script></head><body><div class="container"><header><a href="/"><h1>blogccasion</h1></a><div class="header-footer-text"><span lang="fr"><strong>l'occasion</strong> <em>f</em> — </span><span lang="de">Gelegenheit</span> <em>f</em>, die ~ , der ~; <em>bei Gelegenheit</em> — <span lang="fr"><strong>à l'occasion</strong></span></div></header><main class="tmpl-post"><article><header><a href="/blogccasion/2019/08/15/a-quick-look-at-wechats-mini-programs/"><h3>A Quick Look At WeChat&#39;s Mini Programs</h3></a><div class="metadata post-date"><img class="author" src="/images/thomas_steiner.jpg" alt="Thomas Steiner headshot"><p>By <a href="/about/">Thomas Steiner</a>. Written on <time datetime="2019-08-15T11:59:52.000Z">Thu Aug 15 2019</time>. <a href="/tags/Technical" class="tag"><b>Technical</b></a></p></div></header><p>While preparing for my <a href="https://events.google.cn/intl/zh-CN/developerdays2019/agenda/#table-row-1-7">presentation</a> at the <a href="https://events.google.cn/intl/zh-CN/developerdays2019/">Google Developer Days 2019 in Shanghai, China</a> I was reminded again that China is a market where few super apps like <a href="https://www.wechat.com/en">WeChat</a> host a <a href="https://techcrunch.com/2018/11/07/wechat-mini-apps-200-million-users/">gazillion mini apps or mini programs</a> that fulfill everyday needs like booking cabs, reserving tables, etc.</p><p>I got curious and <a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html">downloaded the SDK</a> and after playing a bit with the <a href="https://developers.weixin.qq.com/miniprogram/en/dev/">Your First Mini App tutorial</a>, I realized the whole thing is so close to building for the actual web, it both fascinates, intrigues, and honestly somewhat infuriates me.</p><h4 id="app-architecture">App Architecture <a class="direct-link" href="#app-architecture">#</a></h4><ul><li>You style your apps with <a href="https://developers.weixin.qq.com/miniprogram/en/dev/framework/view/wxss.html">WXSS</a>, which is essentially CSS with some neat additions like <a href="https://developers.weixin.qq.com/miniprogram/en/dev/framework/view/wxss.html">responsive pixels</a>.</li></ul><pre class="language-css"><code class="language-css"><span class="highlight-line"><span class="token selector">page-section-gap</span><span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">padding</span><span class="token punctuation">:</span> 0 30rpx<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token selector">.page-body-button</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre><ul><li>You write your app logic with JavaScript (or TypeScript), with <code>App</code> as the top level object and <code>wx</code> as the object you get all the cool capabilities from. The <a href="https://developers.weixin.qq.com/miniprogram/en/dev/api/">API</a> is incredibly powerful.</li></ul><p>Here are the keys of the <code>wx</code> object:</p><pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token punctuation">[</span></span><br><span class="highlight-line">  <span class="token string">"addCard"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"addNativeDownloadTask"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"addPhoneContact"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"addWeRunData"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"arrayBufferToBase64"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"authorize"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"base64ToArrayBuffer"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"batchGetContactDirectly"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"bindPaymentCard"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"calRqt"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"canIUse"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"cancelDownloadAppTask"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"canvasGetImageData"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"canvasPutImageData"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"canvasToTempFilePath"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"captureScreen"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"checkIsSoterEnrolledInDevice"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"checkIsSupportFacialRecognition"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"checkIsSupportSoterAuthentication"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"checkSession"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"chooseAddress"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"chooseContact"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"chooseImage"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"chooseInvoice"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"chooseInvoiceTitle"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"chooseLocation"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"chooseMedia"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"chooseMessageFile"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"chooseMultiMedia"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"chooseShareGroup"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"chooseVideo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"chooseWeChatContact"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"clearStorage"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"clearStorageSync"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"closeBLEConnection"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"closeBluetoothAdapter"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"closeSocket"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"cloud"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"compressImage"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"connectSocket"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"connectWifi"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createAnimation"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createAudioContext"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createBLEConnection"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createCameraContext"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createCanvasContext"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createContext"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createInnerAudioContext"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createIntersectionObserver"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createInterstitialAd"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createLivePlayerContext"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createLivePusherContext"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createMapContext"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createOffscreenCanvas"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createRewardedVideoAd"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createSelectorQuery"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createUDPSocket"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createVideoContext"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"createWorker"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"downloadApp"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"downloadAppForIOS"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"downloadFile"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"downloadSilkVoice"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"drawCanvas"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"enterContact"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"env"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"error"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"exitVoIPChat"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"faceVerifyForPay"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getABTestConfig"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getAccountInfoSync"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getAppInstallState"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getAvailableAudioSources"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getBLEDeviceCharacteristics"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getBLEDeviceServices"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getBackgroundAudioManager"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getBackgroundAudioPlayerState"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getBackgroundFetchData"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getBackgroundFetchToken"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getBatteryInfo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getBatteryInfoSync"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getBeacons"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getBluetoothAdapterState"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getBluetoothDevices"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getClipboardData"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getConnectedBluetoothDevices"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getConnectedWifi"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getCookies"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getExtConfig"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getExtConfigSync"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getFileInfo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getFileSystemManager"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getHCEState"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getImageInfo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getLabInfo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getLaunchOptionsSync"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getLocation"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getLogManager"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getMenuButtonBoundingClientRect"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getNetworkType"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getOpenDeviceId"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getPublicLibVersion"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getRealtimeLogManager"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getRecorderManager"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getResPath"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getSavedFileInfo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getSavedFileList"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getScreenBrightness"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getSelectedTextRange"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getSetting"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getShareInfo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getStorage"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getStorageInfo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getStorageInfoSync"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getStorageSync"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getSystemInfo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getSystemInfoSync"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getUpdateManager"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getUserInfo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getWeRunData"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getWifiList"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"getWxSecData"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"hideKeyboard"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"hideLoading"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"hideNavigationBarLoading"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"hideShareMenu"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"hideTabBar"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"hideTabBarRedDot"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"hideToast"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"installDownloadApp"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"isSDKError"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"isSystemError"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"isThirdError"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"joinVoIPChat"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"launchApplicationDirectly"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"launchApplicationForNative"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"launchMiniProgram"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"loadFontFace"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"loadPaySpeechDialectConfig"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"login"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"makePhoneCall"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"makeVoIPCall"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"navigateBack"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"navigateBackApplication"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"navigateBackH5"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"navigateBackMiniProgram"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"navigateBackNative"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"navigateTo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"navigateToDevMiniProgram"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"navigateToMiniProgram"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"navigateToMiniProgramDirectly"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"nextTick"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"notifyBLECharacteristicValueChange"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"notifyBLECharacteristicValueChanged"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"offAppHide"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"offAppShow"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"offAudioInterruptionBegin"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"offAudioInterruptionEnd"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"offError"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"offLocalServiceDiscoveryStop"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"offLocalServiceFound"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"offLocalServiceLost"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"offLocalServiceResolveFail"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"offPageNotFound"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"offWindowResize"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onAccelerometerChange"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onAppEnterBackground"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onAppEnterForeground"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onAppHide"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onAppRoute"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onAppRouteDone"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onAppShow"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onAppUnhang"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onAudioInterruptionBegin"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onAudioInterruptionEnd"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onBLECharacteristicValueChange"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onBLEConnectionStateChange"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onBLEConnectionStateChanged"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onBackgroundAudioPause"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onBackgroundAudioPlay"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onBackgroundAudioStop"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onBackgroundFetchData"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onBeaconServiceChange"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onBeaconUpdate"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onBluetoothAdapterStateChange"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onBluetoothDeviceFound"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onCompassChange"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onDeviceMotionChange"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onDownloadAppStateChange"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onError"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onEvaluateWifi"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onGetWifiList"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onGyroscopeChange"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onHCEMessage"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onKeyboardHeightChange"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onLocalServiceDiscoveryStop"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onLocalServiceFound"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onLocalServiceLost"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onLocalServiceResolveFail"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onLocationChange"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onMemoryWarning"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onNativeEvent"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onNetworkStatusChange"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onPageNotFound"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onPageReload"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onSocketClose"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onSocketError"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onSocketMessage"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onSocketOpen"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onTapNavigationBarRightButton"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onUploadEncryptedFileToCDNProgress"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onUserCaptureScreen"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onVoIPChatInterrupted"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onVoIPChatMembersChanged"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onVoIPChatSpeakersChanged"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onVoicePlayEnd"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onWebviewEvent"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onWifiConnected"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"onWindowResize"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openBluetoothAdapter"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openBusinessView"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openCard"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openDeliveryList"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openDocument"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openGoldenRedPacketDetail"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openLocation"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openMiniProgramHistoryList"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openMiniProgramProfile"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openMiniProgramSearch"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openMiniProgramStarList"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openOfficialAccountProfile"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openOfflinePayView"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openQRCode"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openSetting"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openUrl"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openUserProfile"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"openWCPayCardList"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"operateWXData"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"pageScrollTo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"pauseBackgroundAudio"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"pauseDownloadAppTask"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"pauseVoice"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"playBackgroundAudio"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"playVoice"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"presetWifiList"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"preventApplePayUI"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"previewImage"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"queryDownloadAppTask"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"reLaunch"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"readBLECharacteristicValue"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"redirectTo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"removeSavedFile"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"removeStorage"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"removeStorageSync"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"removeTabBarBadge"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"removeUserCloudStorage"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"reportAction"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"reportAnalytics"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"reportIDKey"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"reportKeyValue"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"reportMonitor"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"request"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"requestMallPayment"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"requestPayment"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"requestPaymentToBank"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"requestVirtualPayment"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"resumeDownloadAppTask"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"saveFile"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"saveImageToPhotosAlbum"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"saveVideoToPhotosAlbum"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"scanCode"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"secureTunnel"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"seekBackgroundAudio"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"sendBizRedPacket"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"sendGoldenRedPacket"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"sendHCEMessage"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"sendSocketMessage"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setBackgroundColor"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setBackgroundFetchToken"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setBackgroundTextStyle"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setClipboardData"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setCookies"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setCurrentPaySpeech"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setEnableDebug"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setInnerAudioOption"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setKeepScreenOn"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setLabInfo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setNavigationBarAlpha"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setNavigationBarColor"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setNavigationBarRightButton"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setNavigationBarTitle"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setPageStyle"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setResPath"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setScreenBrightness"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setStorage"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setStorageSync"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setTabBarBadge"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setTabBarItem"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setTabBarStyle"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setTopBarText"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setUserCloudStorage"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"setWifiList"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"shareAppMessageForFakeNative"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"showActionSheet"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"showLoading"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"showModal"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"showNavigationBarLoading"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"showShareActionSheet"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"showShareMenu"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"showTabBar"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"showTabBarRedDot"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"showToast"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startAccelerometer"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startBeaconDiscovery"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startBluetoothDevicesDiscovery"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startCompass"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startCustomFacialRecognitionVerify"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startCustomFacialRecognitionVerifyAndUploadVideo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startDeviceMotionListening"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startFacialRecognitionVerify"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startFacialRecognitionVerifyAndUploadVideo"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startGyroscope"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startHCE"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startLocalServiceDiscovery"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startLocationUpdate"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startLocationUpdateBackground"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startPullDownRefresh"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startRecord"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startSoterAuthentication"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"startWifi"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"stopAccelerometer"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"stopBackgroundAudio"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"stopBeaconDiscovery"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"stopBluetoothDevicesDiscovery"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"stopCompass"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"stopDeviceMotionListening"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"stopGyroscope"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"stopHCE"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"stopLocalServiceDiscovery"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"stopLocationUpdate"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"stopPullDownRefresh"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"stopRecord"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"stopVoice"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"stopWifi"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"switchTab"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"traceEvent"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"triggerGettingWidgetData"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"updatePerfData"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"updateShareMenu"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"updateVoIPChatMuteConfig"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"uploadEncryptedFileToCDN"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"uploadFile"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"uploadSilkVoice"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"uploadWeRunData"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"verifyPaymentPassword"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"version"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"vibrateLong"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"vibrateShort"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"voiceSplitJoint"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token string">"writeBLECharacteristicValue"</span></span><br><span class="highlight-line"><span class="token punctuation">]</span></span></code></pre><ul><li>You describe your interface with <a href="https://developers.weixin.qq.com/miniprogram/en/dev/framework/view/wxml/">WXML</a>, which is something between <a href="https://reactjs.org/docs/introducing-jsx.html">JSX</a>, <a href="https://vuejs.org/v2/guide/#Declarative-Rendering">Vue's declarative rendering</a>; it also reminds me of old concepts like XSLT's <a href="https://www.w3.org/TR/xslt-30/#xsl-if"><code>&lt;xsl:if&gt;</code></a>:</li></ul><pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span> WEBVIEW <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span></span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>elif</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span> APP <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span></span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>else</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span> MINA <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span></span></code></pre><p>Overall a really nice separation of concerns. I could very well imagine being productive with this in no time. The onboarding experience of the documentation is pretty neat. The SDK is well made with (essentially an adapted) <a href="https://developers.weixin.qq.com/miniprogram/en/dev/devtools/devtools.html">Chrome DevTools integrated</a> and some VS Code like features like code completion.</p><h4 id="programming-concept">Programming Concept <a class="direct-link" href="#programming-concept">#</a></h4><p>The overall programming concept <a href="http://opensocial.github.io/spec/2.5.1/Social-Gadget.xml#rfc.section.3.1.2">reminds of OpenSocial</a> (if anyone remembers that) where there is a baseline assumption of a logged in user whose social graph can be explored:</p><pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// OpenSocial</span></span><br><span class="highlight-line">osapi<span class="token punctuation">.</span>people<span class="token punctuation">.</span><span class="token function">getViewer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">.</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Your name is '</span> <span class="token operator">+</span> result<span class="token punctuation">.</span>displayName <span class="token operator">+</span> <span class="token string">'!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// WeChat</span></span><br><span class="highlight-line">wx<span class="token punctuation">.</span><span class="token function">getSetting</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>authSetting<span class="token punctuation">[</span><span class="token string">'scope.userInfo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">      wx<span class="token punctuation">.</span><span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><br><span class="highlight-line">          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">        <span class="token punctuation">}</span></span><br><span class="highlight-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p><img src="https://user-images.githubusercontent.com/145676/63084473-8cf79900-bf4b-11e9-8838-447688caf661.png" alt="The &quot;My First Mini Program&quot; app running in the WeChat DevTools"></p><h4 id="component-library">Component Library <a class="direct-link" href="#component-library">#</a></h4><p>They also have nice <a href="https://developers.weixin.qq.com/miniprogram/en/dev/component/">set of declarative components</a>, think web components essentially, that you can create with WXML and interact with from JavaScript:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span><br>  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myMap<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"><br>  <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><br><span class="highlight-line">  <span class="token attr-name">latitude</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span></span><br><span class="highlight-line">  <span class="token attr-name">longitude</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span></span><br><span class="highlight-line">  <span class="token attr-name">markers</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span></span><br><span class="highlight-line">  <span class="token attr-name">covers</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span></span><br><span class="highlight-line">  <span class="token attr-name">show-location</span></span><br><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">></span></span></code></pre><pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><br><span class="highlight-line">  data<span class="token punctuation">:</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    latitude<span class="token punctuation">:</span> <span class="token number">23.099994</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    longitude<span class="token punctuation">:</span> <span class="token number">113.324520</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    markers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span><br><span class="highlight-line">      id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span><br><span class="highlight-line">      latitude<span class="token punctuation">:</span> <span class="token number">23.099994</span><span class="token punctuation">,</span></span><br><span class="highlight-line">      longitude<span class="token punctuation">:</span> <span class="token number">113.324520</span><span class="token punctuation">,</span></span><br><span class="highlight-line">      name<span class="token punctuation">:</span> <span class="token string">'T.I.T 创意园'</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    covers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span><br><span class="highlight-line">      latitude<span class="token punctuation">:</span> <span class="token number">23.099994</span><span class="token punctuation">,</span></span><br><span class="highlight-line">      longitude<span class="token punctuation">:</span> <span class="token number">113.344520</span><span class="token punctuation">,</span></span><br><span class="highlight-line">      iconPath<span class="token punctuation">:</span> <span class="token string">'/image/location.png'</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">      latitude<span class="token punctuation">:</span> <span class="token number">23.099994</span><span class="token punctuation">,</span></span><br><span class="highlight-line">      longitude<span class="token punctuation">:</span> <span class="token number">113.304520</span><span class="token punctuation">,</span></span><br><span class="highlight-line">      iconPath<span class="token punctuation">:</span> <span class="token string">'/image/location.png'</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span><span class="token punctuation">]</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token function-variable function">onReady</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token keyword">this</span><span class="token punctuation">.</span>mapCtx <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">createMapContext</span><span class="token punctuation">(</span><span class="token string">'myMap'</span><span class="token punctuation">)</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token function-variable function">getCenterLocation</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token keyword">this</span><span class="token punctuation">.</span>mapCtx<span class="token punctuation">.</span><span class="token function">getCenterLocation</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><br><span class="highlight-line">      <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span><br><span class="highlight-line">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span></span><br><span class="highlight-line">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>latitude<span class="token punctuation">)</span></span><br><span class="highlight-line">      <span class="token punctuation">}</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span></code></pre><p><img src="https://user-images.githubusercontent.com/145676/63084474-8d902f80-bf4b-11e9-9267-c69f4923e795.png" alt="WeChat  component sample running in WeChat DevTools"></p><p>And of course they have a <a href="https://developers.weixin.qq.com/miniprogram/en/dev/component/web-view.html"><code>&lt;web-view&gt;</code></a>.</p><p><img src="https://user-images.githubusercontent.com/145676/63084476-8d902f80-bf4b-11e9-9cb5-d3a216a4d4af.png" alt="WeChat  component sample running in WeChat DevTools"></p><h4 id="inner-mechanics">Inner Mechanics <a class="direct-link" href="#inner-mechanics">#</a></h4><p>From what I understand, it's all running in an iframe, Chrome/WeChat DevTools then hides the container, and all you see is the WXML layer. When you look at the SDK's package contents, they make no real effort at hiding any of the inner mechanics: it's all HTML (of particular interest: <code>/Applications/wechatwebdevtools.app/Contents/Resources/package.nw/html/standalone.html</code>), CSS (of particular interest: <code>/Applications/wechatwebdevtools.app/Contents/Resources/package.nw/static/app.css</code>), and JavaScript (of particular interest: <code>/Applications/wechatwebdevtools.app/Contents/Resources/package.nw/js/vendor/index.js</code>).</p><p><img src="https://user-images.githubusercontent.com/145676/63084475-8d902f80-bf4b-11e9-954a-aff06f9b0e8d.png" alt="Inspecting package contents of the WeChat DevTools"></p><p>Finally there is a local web server running that allows them to link from the online docs to local URLs like <a href="http://127.0.0.1:32123/minicode/VBZ3Jim26zYu">127.0.0.1:32123/minicode/VBZ3Jim26zYu</a>, which in turn allows them to open code samples from the docs that are ready to play with a click in WeChat DevTools. The web server <a href="https://medium.com/bugbountywriteup/zoom-zero-day-4-million-webcams-maybe-an-rce-just-get-them-to-visit-your-website-ac75c83f4ef5">luckily</a> only runs when the WeChat DevTools are open.</p></article><p>You can <a href="https://github.com/tomayac/blogccasion/tree/master/./posts/2019/2019-08-15_a-quick-look-at-wechats-mini-programs.md" rel="nofollow">edit this page on GitHub</a>.</p></main><nav><h2>Pages</h2><ul><li><a class="nav-item" href="/blogccasion/">Home</a></li><li><a class="nav-item" href="/blogccasion/posts/">Archive</a></li><li><a class="nav-item" href="/blogccasion/about/">About</a></li></ul><h2>Tags</h2><ul><li><a href="/blogccasion/tags/Technical/" class="tag">Technical</a></li><li><a href="/blogccasion/tags/France/" class="tag">France</a></li><li><a href="/blogccasion/tags/Work/" class="tag">Work</a></li><li><a href="/blogccasion/tags/Private/" class="tag">Private</a></li><li><a href="/blogccasion/tags/Political/" class="tag">Political</a></li></ul></nav><svg xmlns="http://www.w3.org/2000/svg"><symbol id="icon-rss" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></symbol><symbol id="icon-twitter" aria-label="Twitter" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></symbol><symbol id="icon-pgp" aria-label="Lock" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#29303d"/><g fill="#29303d"><path stroke="#e0e4eb" stroke-width="32" d="M346 214v-37c0-123-180-123-180 0v37"/><rect fill="#ff0" height="210" rx="5%" width="280" x="115" y="210"/><circle cx="256" cy="296" r="28"/><path d="M262 296h-12l-16 69h44"/></g></symbol><symbol id="icon-github" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></symbol></svg><aside><h2>Related</h2><ul><li><a class="aside-item" href="/blogccasion/feed/feed.xml" rel="me"><svg class="icon"><use xlink:href="#icon-rss"></use></svg> Blog Feed</a></li><li><a class="aside-item" href="https://twitter.com/tomayac" rel="me"><svg class="icon"><use xlink:href="#icon-twitter"></use></svg> Twitter</a></li><li><a class="aside-item" href="https://tomayac.com/tweets" rel="me"><svg class="icon"><use xlink:href="#icon-twitter"></use></svg> Tweet Archive</a></li><li><a class="aside-item" href="https://github.com/tomayac" rel="me"><svg class="icon"><use xlink:href="#icon-github"></use></svg> GitHub</a></li><li><a class="aside-item" href="/pgp_public_key.asc"><svg class="icon"><use xlink:href="#icon-pgp"></use></svg> Public Key</a></li></ul></aside><footer id="footer"><ul class="header-footer-text"><li>© 2005–2019 <a class="footer-link" href="/about">Thomas Steiner</a>.</li><li>Distributed under <a class="footer-link" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.</li><li>Contact and required <a class="footer-link" href="/about/">legal info</a>.</li></ul><dark-mode-toggle permanent dark="Light Theme" light="Dark Theme"></dark-mode-toggle><a class="validator" href="https://validator.w3.org/nu/?doc=https://blog.tomayac.com//blogccasion/2019/08/15/a-quick-look-at-wechats-mini-programs/"><img src="/static/validhtml5.svg" width="88" height="31" alt="Valid HTML5 badge"></a></footer></div></body></html>