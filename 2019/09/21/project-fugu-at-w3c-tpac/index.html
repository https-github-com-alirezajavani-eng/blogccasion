<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><meta property="twitter:account_id" content="1510101733"><meta name="description" content="The personal blog of Thomas Steiner"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><link rel="icon" href="/images/thomas_steiner.jpg"><link rel="canonical" href="/blogccasion/2019/09/21/project-fugu-at-w3c-tpac/"><link rel="alternate" href="/blogccasion/feed/feed.xml" type="application/atom+xml" title="Blogccasion"><link rel="author" href="https://tomayac.com/humans.txt" type="text/plain"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/prism-theme.css"><title>Project Fugu üê° at W3C TPAC</title></head><body><div class="container"><header><a href="/"><h1>blogccasion</h1></a><div class="header-footer-text"><span lang="fr"><strong>l'occasion</strong> <em>f</em> ‚Äî </span><span lang="de">Gelegenheit</span> <em>f</em>, die ~ , der ~; <em>bei Gelegenheit</em> ‚Äî <span lang="fr"><strong>√† l'occasion</strong></span></div></header><nav><h2>Pages</h2><ul><li><a class="nav-item" href="/blogccasion/">Home</a></li><li><a class="nav-item" href="/blogccasion/posts/">Archive</a></li><li><a class="nav-item" href="/blogccasion/about/">About</a></li></ul><h2>Tags</h2><ul><li><a href="/blogccasion/tags/Private/" class="tag">Private</a></li><li><a href="/blogccasion/tags/Technical/" class="tag">Technical</a></li><li><a href="/blogccasion/tags/France/" class="tag">France</a></li><li><a href="/blogccasion/tags/Work/" class="tag">Work</a></li><li><a href="/blogccasion/tags/Political/" class="tag">Political</a></li></ul></nav><svg xmlns="http://www.w3.org/2000/svg"><symbol id="icon-rss" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></symbol><symbol id="icon-twitter" aria-label="Twitter" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></symbol><symbol id="icon-pgp" aria-label="Lock" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#29303d"/><g fill="#29303d"><path stroke="#e0e4eb" stroke-width="32" d="M346 214v-37c0-123-180-123-180 0v37"/><rect fill="#ff0" height="210" rx="5%" width="280" x="115" y="210"/><circle cx="256" cy="296" r="28"/><path d="M262 296h-12l-16 69h44"/></g></symbol><symbol id="icon-github" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></symbol></svg><aside><h2>Related</h2><ul><li><a class="aside-item" href="/blogccasion/feed/feed.xml" rel="me"><svg class="icon"><use xlink:href="#icon-rss"></use></svg> Blog Feed</a></li><li><a class="aside-item" href="https://twitter.com/tomayac" rel="me"><svg class="icon"><use xlink:href="#icon-twitter"></use></svg> Twitter</a></li><li><a class="aside-item" href="https://tomayac.com/tweets" rel="me"><svg class="icon"><use xlink:href="#icon-twitter"></use></svg> Tweet Archive</a></li><li><a class="aside-item" href="https://github.com/tomayac" rel="me"><svg class="icon"><use xlink:href="#icon-github"></use></svg> GitHub</a></li><li><a class="aside-item" href="/pgp_public_key.asc"><svg class="icon"><use xlink:href="#icon-pgp"></use></svg> Public Key</a></li></ul></aside><main class="tmpl-post"><h2>A Look Inside the Think Tank...</h2><article><header><a href="/blogccasion/2019/09/21/project-fugu-at-w3c-tpac/"><h3>Project Fugu üê° at W3C TPAC</h3></a><div class="metadata"><a href="/about/"><img class="author" src="/images/thomas_steiner.jpg"></a>By <a href="/about/">Thomas Steiner</a>. Written on <time datetime="2019-09-21T16:03:15.000Z">Sat Sep 21 2019</time>. <a href="/tags/Technical" class="tag"><b>Technical</b></a></div></header><p>This week, I attended my now third <abbr title="World Wide Web Consortium">W3C</abbr> <abbr title="Technical Plenary and Advisory Committee">TPAC</abbr>. After <a href="https://www.w3.org/2017/11/TPAC/Overview.html">TPAC¬†2017</a> in Burlingame,¬†CA, United States of America and <a href="https://www.w3.org/2018/10/TPAC/">TPAC¬†2018</a> in Lyon, France, <a href="https://www.w3.org/2019/09/TPAC/Overview.html">TPAC¬†2019</a> was held in Fukuoka, Japan. For the first time, I felt like I could <em>somewhat meaningfully</em> contribute and had at least a <em>baseline understanding</em> of the underlying W3C mechanics. As each year, the <a href="https://www.w3.org/2019/09/TPAC/schedule.html">TPAC agenda</a> was crammed and overlaps were unavoidable. Below is the write-up of the meetings I had time to attend.</p><h4 id="day-1">Day 1 <a class="direct-link" href="#day-1">#</a></h4><p>On Monday, I attended the <a href="https://www.w3.org/sw/">Service Workers Working Group</a> (WG) meeting. The <a href="https://github.com/w3c/ServiceWorker/issues/1460#issue-482168365">agenda</a> this time was a mix of implementor updates, new proposals, and a lot of discussion of special cases. I know <a href="https://twitter.com/jaffathecake">Jake Archibald</a> is working on a summary post, so I leave it to him to summarize the day. The <a href="https://docs.google.com/document/d/1q090ovJ4gd8wSfVtvuoZLMZ51YkiFDsEZ0Jiqi41Iys/edit">raw meeting minutes</a> are available in case you're interested.</p><h4 id="day-2">Day 2 <a class="direct-link" href="#day-2">#</a></h4><p>On Tuesday, I visited the <a href="https://www.w3.org/2011/webappsec/">Web Application Security Working Group</a> meeting as an observer. I was mostly interested in this WG because the <a href="https://github.com/w3c/webappsec/blob/master/meetings/2019/2019-09-TPAC-agenda.md">agenda</a> promised interesting proposals like Apple's <a href="https://wicg.github.io/change-password-url/index.html"><code>/.well-known/change-password</code></a> that was met with universal agreement. Some interesting discussion also sparked around again Apple's <a href="https://lists.w3.org/Archives/Public/public-webappsec/2019Sep/0004.html"><code>isLoggedIn()</code></a> API proposal. I was reminded of why on the web we can't have nice things through an attack vector that leverages <abbr title="HTTP Strict Transport Security">HSTS</abbr> for tracking purposes. Luckily there is <a href="https://webkit.org/blog/8146/protecting-against-hsts-abuse/">browser mitigation</a> in place to prevent this. The <a href="https://github.com/w3c/webappsec/blob/master/meetings/2019/2019-09-TPAC-minutes.md">meeting minutes</a> cover the entire day.</p><h4 id="day-3">Day 3 <a class="direct-link" href="#day-3">#</a></h4><p>Wednesday was unconference day with <a href="https://w3c.github.io/tpac-breakouts/sessions.html">59(!) breakout sessions</a>. Other than the at times tedious working group sessions, I find breakout sessions to be oftentimes more interesting and an opportunity to learn new things.</p><h5 id="breakout-session-js-built-in-modules">Breakout Session JS Built-in Modules <a class="direct-link" href="#breakout-session-js-built-in-modules">#</a></h5><p>The first breakout session I attended was on <a href="https://w3c.github.io/tpac-breakouts/sessions.html#jsbuiltin">JS built-in modules</a>, a <abbr title="Technical Committee 39">TC39</abbr> proposal by Apple for a <a href="https://github.com/tc39/proposal-javascript-standard-library">JavaScript Built-in Library</a>. The <a href="https://www.w3.org/2019/09/18-jsbuiltin-minutes.html">session's minutes</a> are available, in general there was a lot of discussion and disagreement around namespaces and how built-in modules should be governed.</p><h5 id="breakout-session-new-module-types%3A-json%2C-css%2C-and-html">Breakout Session New Module Types: JSON, CSS, and HTML <a class="direct-link" href="#breakout-session-new-module-types%3A-json%2C-css%2C-and-html">#</a></h5><p>The next session was on <a href="https://w3c.github.io/tpac-breakouts/sessions.html#new-modules">new module types for JSON, CSS, and HTML</a>. As the developer of <a href="https://github.com/GoogleChromeLabs/dark-mode-toggle"><code>&lt;dark-mode-toggle&gt;</code></a>, I'm fully in favor of getting rid of the clumsy <a href="https://github.com/GoogleChromeLabs/dark-mode-toggle/blob/bf737bed7a7d3ba5086585a94578ed814500bb6c/src/dark-mode-toggle.mjs#L75-L249"><code>innerHTML</code> all the things!!!1!</a> approach that vanilla JS custom elements currently make the programmer to follow. If you're likewise interested, subscribe to the <a href="https://github.com/w3c/webcomponents/issues/759">CSS Modules issue</a> and the <a href="https://github.com/w3c/webcomponents/issues/645">HTML Modules issue</a> in the Web Components WG repo. The discussion circulated mostly around details how <code>@imports</code> would work and how to convey the type of the import to avoid security issues, for example following the <code>&lt;link rel=&quot;preload&quot;&gt;</code> way. The <a href="https://www.w3.org/2019/09/18-new-modules-minutes.html">meeting minutes</a> have the full details.</p><pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// Non-working example</span></span><br><span class="highlight-line"><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'styles.css'</span> <span class="token keyword">as</span> stylesheet<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token keyword">import</span> settings <span class="token keyword">from</span> <span class="token string">'settings.json'</span> <span class="token keyword">as</span> json<span class="token punctuation">;</span></span></code></pre><h5 id="breakout-session-mini-app-standardization">Breakout Session Mini App Standardization <a class="direct-link" href="#breakout-session-mini-app-standardization">#</a></h5><p>The <a href="https://w3c.github.io/tpac-breakouts/sessions.html#miniapp">Mini App Standardization</a> session, organized by the <a href="https://www.w3.org/2018/chinese-web-ig/">Chinese Web Interest Group</a>, was super interesting to me. In preparation of the <a href="https://events.google.cn/intl/zh-CN/developerdays2019/">Google Developer Days in Shanghai, China</a>, that I spoke at right before TPAC, I have <a href="https://blog.tomayac.com/2019/08/15/a-quick-look-at-wechats-mini-programs/">looked at WeChat mini programs</a> and documented the developer experience and how close to and yet how far from the web they are. A couple of days before TPAC, the Chinese Web Interest Group had released a <a href="https://www.w3.org/TR/mini-app-white-paper/">white paper</a> that documents their ideas. The success the various mini apps platforms have achieved deserves our full respect. There were, however, various voices‚Äîincluding from the <abbr title="Technical Advisory Group">TAG</abbr>‚Äîthat urged the various stakeholders to converge their work with efforts made in the area of Progressive Web Apps, for example around the <a href="https://w3c.github.io/manifest/">Web App Manifest</a> rather than create yet another manifest-like format. Read the <a href="https://www.w3.org/2019/09/18-miniapp-minutes.html">full session minutes</a> for all details. One of the results of the session was the creation of the <a href="https://www.w3.org/community/miniapps/">MiniApps Ecosystem Community Group</a> that I hope to join.</p><h5 id="breakout-session-for-a-more-capable-web%E2%80%94project-fugu">Breakout Session For a More Capable Web‚ÄîProject Fugu <a class="direct-link" href="#breakout-session-for-a-more-capable-web%E2%80%94project-fugu">#</a></h5><p>Together with <a href="https://twitter.com/anssik">Anssi Kostiainen</a> from Intel and <a href="https://twitter.com/thejohnjansen">John Jansen</a> from Microsoft, I organized a breakout session <a href="https://w3c.github.io/tpac-breakouts/sessions.html#capable-web">for a more capable web</a> under the umbrella of Project Fugu üê°. You can see our slides embedded below. In the session we argue that to remain relevant with native, hybrid, or mini apps, web apps, too, need access to a comparable set of APIs. We briefly touched upon the APIs being worked on by the cross-company project partners, and then opened the floor for an open discussion on why we see the browser-accessible web in danger if we don't move it forward now, despite all fully acknowledged challenges around privacy, security, and compatibility. You can follow the discussion in the excellent(!) <a href="https://www.w3.org/2019/09/18-capable-web-minutes.html">session minutes</a>, courtesy of Anssi.</p><iframe src="https://docs.google.com/presentation/d/e/2PACX-1vSBOBqz_UiNBce-HxpS8EC2lVSeAbzn2lrreesUhhnNaF-3zSieO8A5RaqVc-YhbuuZN0MFKOBsKf7g/embed?start=false&loop=false&delayms=3000" frameborder="0" width="800" height="477" style="max-width:100%;width:800px" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe><h4 id="day-4-and-day-5">Day 4 and Day 5 <a class="direct-link" href="#day-4-and-day-5">#</a></h4><p>Thursday and Friday were dedicated to the <a href="https://www.w3.org/das/">Devices and Sensor WG</a>. The <a href="https://github.com/w3c/devicesensors-wg/issues/24">agenda</a> was not too packed, but still kept us busy for one and a half days. We discussed almost from the start about permissions and how they should be handled. Permissions are a big topic in Project Fugu üê° and I'm happy that there's work ongoing in the TAG to improve the situation, including efforts around the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Permissions_API">Permissions API</a> that is unfortunately not universally supported, leading to inconsistencies with some APIs having a static method for getting permission, <a href="https://github.com/w3c/sensors/issues/388#issuecomment-532942477">others</a> asking for permission upon the first usage attempt, and yet others to integrate with the Permissions API. For the <a href="https://w3c.github.io/geolocation-sensor/">Geolocation Sensor API</a>, we agreed to try retrofitting expressive configuration of foreground tracking into the <a href="https://w3c.github.io/geolocation-api/">Geolocation API</a> specification instead of doing it in Geolocation Sensor, which should improve vendor adoption. For geofencing and background geolocation tracking, we decided to explore <a href="https://github.com/beverloo/notification-triggers">Notification Triggers</a> and <a href="https://w3c.github.io/wake-lock/">Wake Locks</a> respectively, which both weren't options when the work on Geolocation Sensor was started initially.</p><p><a href="https://sites.google.com/view/maryammjd/home">Maryam Mehrnezhad</a>, an invited expert in the working group whose research is focused on privacy and security, presented on and discussed with us the implications on both fields that sensors potentially have and whether mitigation like accuracy bucketing or frequency capping are effective. The <a href="https://www.w3.org/2019/09/19-dap-minutes.html#x18">minutes</a> capture the conversation well.</p><p>Finally, we <a href="https://github.com/w3c/wake-lock/issues/226#issuecomment-533032056">changed the surface of the Wake Lock API</a> hopefully for the last time. The previous changes just didn't feel right from a developer experience point of view, so better change the API while it's behind a flag than be sorry forever. I reckon I do feel sorry for the implementors <a href="https://twitter.com/rijubrata">Rijubrata Bhaumik</a> and <a href="https://github.com/rakuco">Raphael Kubo da Costa</a>‚Ä¶ üôá</p><pre class="language-js"><code class="language-js"><span class="highlight-line">partial <span class="token keyword">interface</span> <span class="token class-name">Navigator</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token punctuation">[</span>SameObject<span class="token punctuation">]</span> readonly attribute WakeLock wakeLock<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">partial <span class="token keyword">interface</span> <span class="token class-name">WorkerNavigator</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token punctuation">[</span>SameObject<span class="token punctuation">]</span> readonly attribute WakeLock wakeLock<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token punctuation">[</span>Exposed<span class="token operator">=</span><span class="token punctuation">(</span>Window<span class="token punctuation">,</span>DedicatedWorker<span class="token punctuation">)</span><span class="token punctuation">]</span></span><br><span class="highlight-line"><span class="token keyword">interface</span> <span class="token class-name">WakeLock</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  Promise<span class="token operator">&lt;</span>unsigned long long<span class="token operator">></span> <span class="token function">request</span><span class="token punctuation">(</span>WakeLockType type<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  Promise<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span> <span class="token function">release</span><span class="token punctuation">(</span>unsigned long long wakeLockID<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">dictionary WakeLockEventInit <span class="token punctuation">{</span></span><br><span class="highlight-line">  required unsigned long long wakeLockID<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token punctuation">[</span>Exposed<span class="token operator">=</span><span class="token punctuation">(</span>Window<span class="token punctuation">,</span>DedicatedWorker<span class="token punctuation">)</span><span class="token punctuation">]</span></span><br><span class="highlight-line"><span class="token keyword">interface</span> <span class="token class-name">WakeLockEvent</span> <span class="token punctuation">:</span> Event <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token function">constructor</span><span class="token punctuation">(</span>DOMString type<span class="token punctuation">,</span> WakeLockEventInit init<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  readonly attribute unsigned long long wakeLockID<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span></code></pre><p>As a general theme, we &quot;hardened&quot; a number of APIs, for example decided to integrate geolocation with <a href="https://w3c.github.io/webappsec-feature-policy/">Feature Policy</a> and now require a secure connection for the <a href="https://w3c.github.io/battery/">Battery Status API</a>. The chairs Anssi and <a href="https://twitter.com/reillyeon">Reilly Grant</a> have scribed the one and a half days brilliantly, the minutes for <a href="https://www.w3.org/2019/09/19-dap-minutes.html">day¬†1</a> and <a href="https://www.w3.org/2019/09/20-dap-minutes.html">day¬†2</a> are both online.</p><h4 id="conclusion">Conclusion <a class="direct-link" href="#conclusion">#</a></h4><p>As I wrote in the beginning, TPAC <em>slowly</em> starts to feel like a venue where I can make some valuable contributions. <a href="https://twitter.com/rowan_m">Rowan Merewood</a> put it like this in a <a href="https://twitter.com/rowan_m/status/1173808373436862464">tweet</a>:</p><blockquote><p>The biggest thing I'm learning at [<a href="https://twitter.com/hashtag/w3ctpac?src=hashtag_click">#W3Ctpac</a>] is if you want to change the web, it's a surprisingly small group of people you need to convince. The surrounding appearance of the W3C and all its language is intimidating, but underneath it's just other human beings you can talk to.</p></blockquote><p>To which <a href="https://twitter.com/kosamari">Mariko Kosaka</a> fittingly <a href="https://twitter.com/kosamari/status/1173811848518356993">responds</a>:</p><blockquote><p>[Y]eah, but let's not forget getting to talk to that small set of people most often comes with being very, very, very privileged. [‚Ä¶]</p></blockquote><p>It's indeed a <em>massive privilege</em> to work for a company that has the money to take part in W3C activities, fly people across the world, and let them stay in five star conference hotels. With all the love for the web and all the great memories of a fantastic TPAC, let's not forget: the web is threatened from multiple angles, and being able to work in the standards bodies on defending it is a privilege of the few. Both shouldn't be the case.</p></article><p>You can <a href="https://github.com/tomayac/blogccasion/tree/master/./posts/2019-09-21_project-fugu-at-w3c-tpac.md" rel="nofollow">edit this page on GitHub</a>.</p></main><footer id="footer"><a class="validator" href="https://html5.validator.nu/?doc=https://blog.tomayac.com//blogccasion/2019/09/21/project-fugu-at-w3c-tpac/"><img src="/static/validhtml5.svg" width="88" height="31"></a><ul class="header-footer-text"><li>¬© 2005‚Äì2019 <a class="footer-link" href="/about">Thomas Steiner</a>.</li><li>Distributed under <a class="footer-link" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.</li><li>Contact and required <a class="footer-link" href="/about/">legal info</a>.</li></ul></footer></div></body></html>